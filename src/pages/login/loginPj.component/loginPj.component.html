<div class="background">
  <div class="container">
    <div class="login">
      <form class="form_login" (ngSubmit)="onSubmit()" #loginForm="ngForm">
        <h1>Login</h1>

        <div class="content">
          <label for="email">E-mail</label>
          <app-input-text
            id="email"
            type="email"
            [(ngModel)]="email"
            name="email"
            required
            email
            #emailInput="ngModel"
          ></app-input-text>

           @if (emailInput.invalid && (emailInput.dirty || emailInput.touched)) {
            <div class="field-error">
              @if (emailInput.errors?.['required']) {
                <span>E-mail é obrigatório.</span>
              }
              @if (emailInput.errors?.['email']) {
                <span>Formato de e-mail inválido.</span>
              }
            </div>
           }
        </div>

        <div class="content">
          <label for="password">Senha</label>
          <app-input-text
            id="password"
            type="password"
            [(ngModel)]="senha"
            name="senha"
            required
            #senhaInput="ngModel"
          ></app-input-text>

           @if (senhaInput.invalid && (senhaInput.dirty || senhaInput.touched)) {
            <div class="field-error">
              @if (senhaInput.errors?.['required']) {
                <span>Senha é obrigatória.</span>
              }
            </div>
           }
        </div>

        @if (errorMessage()) {
          <div class="field-error" style="display: flex; justify-content: center;" >
            <span>{{ errorMessage() }}</span>
          </div>
        }

        <button type="submit" [disabled]="!loginForm.valid">Entrar</button>

        <app-button label="Entrar com Google" (click)="loginComGoogle()">
          <i class="fa-brands fa-google"></i>
        </app-button>

        <div class="links">
          <a routerLink="/forgot/password">Esqueceu sua senha?</a>
          <a routerLink="/account/register/pj" >Criar uma conta</a> <!--(click)="linkClicked.emit()"-->
        </div>
      </form>
    </div>
  </div>
</div>
